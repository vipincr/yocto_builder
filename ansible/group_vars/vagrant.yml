---
# Vagrant-specific configuration overrides
# These variables override defaults from all.yml for Vagrant deployments

# Deployment Configuration
deployment_type: vagrant
app_repo: "/vagrant"
app_branch: main

# Ensure deterministic uid/gid so VirtualBox shared-folder mount options (uid/gid) match
# the application runtime user on Vagrant.
app_user_uid: 1001
app_group_gid: 1001

# Network Configuration
nginx_server_name: "localhost"
nextauth_url: "http://localhost:3000"
nginx_ssl_enabled: false
skip_nginx: true  # Skip nginx for Vagrant - run directly on port 3000

# Resource Requirements (lower for development)
min_cpus: 2
min_memory_gb: 4
min_storage_gb: 20
build_container_cpus: 2
build_container_memory: "4g"

# Database Configuration
# NOTE: lookup('env', ...) returns "" when unset; default(..., true) treats "" as undefined.
postgresql_password: "{{ lookup('env', 'POSTGRESQL_PASSWORD') | default('vagrant_dev_password', true) }}"

# OAuth Configuration (can be empty for development)
github_client_id: "{{ lookup('env', 'GITHUB_CLIENT_ID') | default('') }}"
github_client_secret: "{{ lookup('env', 'GITHUB_CLIENT_SECRET') | default('') }}"
google_client_id: "{{ lookup('env', 'GOOGLE_CLIENT_ID') | default('') }}"
google_client_secret: "{{ lookup('env', 'GOOGLE_CLIENT_SECRET') | default('') }}"
nextauth_secret: "{{ lookup('env', 'NEXTAUTH_SECRET') | default('vagrant-dev-secret-change-in-production') }}"

